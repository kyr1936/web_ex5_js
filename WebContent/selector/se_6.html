<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	A<input type="checkbox" id="all" onclick="chAll()"> 
	1<input type="checkbox" class="c" onclick="ch()"> 
	2<input type="checkbox" class="c" onclick="ch()"> 
	3<input type="checkbox" class="c" onclick="ch()">

<script type="text/javascript">
	var all = document.getElementById("all");
	var c = document.getElementsByClassName("c");
	
	function chAll() { 
		for (var i = 0; i < c.length; i++) {
			c[i].checked=all.checked;
		}
	}
	function ch() {
		var result=true;
		for (var i = 0; i < c.length; i++) {
			if(!c[i].checked) {
				result=false;			
				break;
			}
		}
		all.checked=result;
	}
	
</script>


</body>
</html>